{% extends 'new_base.html' %}

{% block content %}

<style>
.column1 {
    width: 10%;
}
.column2 {
    width: 30%;
}
#table-width{
    width: 95% !important;
    margin-left:2.5%;
}

</style>

<br>
    <div class="row">
    <div class="col s4" style="padding-left:5%;">
    <a class="waves-effect waves-light btn view red white-text modal-trigger" href="/student/{{ student.username }}/session">Back
        <i class="material-icons right">arrow_back</i></a>
    </div>
    <div align="center" class="col s4">
    <a class="waves-effect waves-light btn view yellow darken-2 white-text modal-trigger" href="#selection-modal">
        Compare Sessions
        <i class="material-icons right">grade</i></a>
    </div>


</div>
<br><br>
{% if selected %}
    <div class="row">
<table class="table striped" id='table-width'>
    <col width="15%">
    <col width="85%">
<thead>
<tr>
    <th class="column1">Session</th>
    {% if all_categories_selected %}
        <th class="column2">Notes</th>




    {% else %}
    {% if notes_selected %}     <th>Additional Notes</th> {% endif %}
    {% if celebrations_selected %}  <th>Successes</th> {% endif %}
    {% if missing_work_selected %} <th>Missing Work</th>    {% endif %}
    {% if questions_selected %}     <th>Topics</th>  {% endif %}
    {% if due_dates_selected %} <th>Upcoming Due Dates</th>   {% endif %}
    {% if follow_up_selected %} <th>Coach's Next Steps</th>   {% endif %}
    {% if commitments_selected %}   <th>Student's  Next Steps</th> {% endif %}

    {% endif %}
</tr>
</thead>
<tbody>
{% for ss in selected_sessions %}
    <tr style=" border-bottom: 2px solid #ddd;">
    {% if all_categories_selected %}
        <td>
            <b>Session {{ forloop.counter }}</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <b>{{ ss.date }}</b>

        </td>
        <td><p><b>Notes:</b> {{ ss.notes }}</p>
            {%  if ss.celebrations != "" %}<p><b>Successes:</b> {{ ss.celebrations }}</p>{% endif %}
            {%  if ss.missing_work != "" %}<p><b>Missing Work:</b> {{ ss.missing_work }}</p>{% endif %}
            {%  if ss.questions_about_session != "" %}<p><b>Topics:</b> {{ ss.questions_about_session }}</p>{% endif %}
            {%  if ss.upcoming_due_dates != "" %}<p><b>Upcoming Due Dates:</b> {{ ss.upcoming_due_dates }}</p>{% endif %}
            {%  if ss.coach_follow_up != "" %}<p><b>Coach's Next Steps:</b> {{ ss.coach_follow_up }}</p>{% endif %}
            {%  if ss.student_commitments != "" %}<p><b>Student's Next Steps:</b> {{ ss.student_commitments }}</p>{% endif %}
        </td>

    {% else %}
        <td><b>{{ ss.date }}</b></td>
        {% if notes_selected %}     <td>{{ ss.notes }}</td> {% endif %}
        {% if celebrations_selected %}  <td>{{ ss.celebrations }}</td> {% endif %}
        {% if missing_work_selected %} <td>{{ ss.missing_work }}</td>    {% endif %}
        {% if questions_selected %}     <td>{{ ss.questions_about_session }}</td>  {% endif %}
        {% if due_dates_selected %} <td>{{ ss.upcoming_due_dates }}</td>   {% endif %}
        {% if follow_up_selected %} <td>{{ ss.coach_follow_up }}</td>   {% endif %}
        {% if commitments_selected %}   <td>{{ ss.student_commitments }}</td> {% endif %}
    {% endif %}
    </tr>

{% endfor %}
</tbody>
</table>
    </div>

{% endif %}














    {# code for modal form to select view for table #}

<div id="selection-modal" class="modal">
        <div class="modal-content">
    <h5 align="center">Select categories to view</h5>

    <form action="/student/{{ student.username }}/all_sessions" method="post">
    {% csrf_token %}
        <div class="row">
        <div class="col s4">
            <input type="checkbox" name="all_categories" id="all_categories"/>
            <label for="all_categories">
                <span>Select All</span>
            </label>
        </div>
            <div class="col s4">
        <input type="checkbox" name="notes" id="notes"/>
    <label for="notes">
        <span>Notes</span>
    </label></div>
        <div class="col s4">
            <input type="checkbox" name="celebrations" id="celebrations"/>
            <label for="celebrations">
                <span>Successes</span>
            </label>
        </div>
        <div class="col s4">
        <input type="checkbox" name="missing_work" id="missing_work"/>
    <label for="missing_work">
        <span>Missing Work</span>
    </label></div>
        <div class="col s4">
        <input type="checkbox" name="questions" id="questions"/>
    <label for="questions">
        <span>Topics to Discuss</span>
    </label></div>
        <div class="col s4">
        <input type="checkbox" name="due_dates" id="due_dates"/>
    <label for="due_dates">
        <span>Upcoming Due Dates</span>
    </label></div>
        <div class="col s4">
        <input type="checkbox" name="follow_up" id="follow_up"/>
    <label for="follow_up">
        <span>Coach's Next Steps</span>
    </label></div>
        <div class="col s4">
        <input type="checkbox" name="commitments" id="commitments"/>
    <label for="commitments">
        <span>Student's Next Steps</span>
    </label></div>
</div>


        <h5 align="center">Select sessions to view</h5>
    <div class="row">
        <div class="col s6">
        <input type="checkbox" name="all_sessions" id="all_sessions"/>
    <label for="all_sessions">
        <span>All Sessions</span>
    </label></div>
        {% for session in sessions %}
        <div class="col s6">
            <input type="checkbox" name="session-{{ session.id }}" id="session-{{ session.id }}"/>
            <label for="session-{{ session.id }}">
                <span>Session on {{ session.date }}</span>
            </label>
        </div>
        {% endfor %}
    </div>

    <div align="center">
        <button class="btn waves-effect waves-light blue" type="submit" name="action">View
            <i class="material-icons right">search</i>
        </button>
    </div>
    </form>
    </div>
             </div>






<script>
$(document).ready(function(){
    // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
    $('.modal-trigger').leanModal();
  });
</script>



{% endblock %}